<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profile | GrammarPal</title>
  <link rel="stylesheet" href="css/dashboard.css" />
  <link rel="stylesheet" href="css/Profile.css" />
</head>
<body>

<div class="sidebar">
  <div class="msb-link">
    <a href="Chatbot.html">
      <img src="img/Miss Bee.png" alt="Ms. B AI Tutor" />
      <h2> Ms.B AI Tutor </h2>
    </a>
  </div>

  <button onclick="window.location.href='Profile.html'">PROFILE</button>
  <button onclick="window.location.href='Dashboard.html'">HOME</button>
  <button onclick="window.location.href='Settings.html'">SETTINGS</button>
  <button onclick="window.location.href='Login.html'">EXIT</button>
</div>

<main class="profile-container">
  <section class="profile-card">
    <form id="profile-form" enctype="multipart/form-data">


      <div class="profile-pic-wrapper">
        <img src="img/deafult picture.jpg" alt="Profile Picture" id="profile-pic" />
        <input type="file" id="profile-pic-upload" name="profilePic" accept="image/*" />
      </div>

      <label for="username">Name:</label>
      <input type="text" id="username" name="username" value="User123" required />

      <label for="birthday">Birthday:</label>
      <input type="date" id="birthday" name="birthday" value="2000-01-01" required />

      <label for="email">Email:</label>
      <input type="email" id="email" name="email" value="user@example.com" required />

      <div class="progress-info">
        <p><strong>Level:</strong> Beginner</p>
        <p><strong>Progress:</strong> ⭐⭐⭐⭐☆</p>
      </div>

      <button type="submit">Save Changes</button>
      <button type="button" onclick="window.location.href='dashboard.html'">Back to Dashboard</button>
    </form>
  </section>
</main>

<script>
  // Preview profile pic on upload
  const uploadInput = document.getElementById('profile-pic-upload');
  const profilePic = document.getElementById('profile-pic');

  uploadInput.addEventListener('change', function () {
    const file = this.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        profilePic.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }
  });

  // Live name + birthday preview
  const usernameInput = document.getElementById('username');
  const birthdayInput = document.getElementById('birthday');

  usernameInput.addEventListener('input', () => {
    document.querySelector('.live-name')?.textContent = usernameInput.value;
  });

  birthdayInput.addEventListener('input', () => {
    document.querySelector('.live-birthday')?.textContent = birthdayInput.value;
  });

  // Fun save message
  const form = document.getElementById('profile-form');
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const saveMsg = document.createElement('div');
    saveMsg.textContent = "✅ Profile saved!";
    saveMsg.classList.add('save-confirm');
    form.appendChild(saveMsg);

    setTimeout(() => {
      saveMsg.remove();
    }, 2000);
  });
</script>

</body>
</html>
